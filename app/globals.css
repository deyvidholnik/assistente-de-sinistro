@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Scrollbar personalizada para andamento de processos */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  .scrollbar-thin::-webkit-scrollbar {
    height: 6px;
    width: 6px;
  }
  .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border-radius: 3px;
  }
  .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb:hover {
    background-color: #9ca3af;
  }
  .scrollbar-track-gray-100::-webkit-scrollbar-track {
    background-color: #f3f4f6;
    border-radius: 3px;
  }
  
  /* Força rolagem horizontal para andamento de processos */
  .andamento-scroll {
    overflow-x: scroll !important;
    overflow-y: hidden !important;
    scrollbar-width: thin;
    scrollbar-color: #d1d5db #f3f4f6;
  }
  
  .andamento-scroll::-webkit-scrollbar {
    height: 8px;
  }
  
  .andamento-scroll::-webkit-scrollbar-track {
    background: #f3f4f6;
    border-radius: 4px;
  }
  
  .andamento-scroll::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 4px;
  }
  
  .andamento-scroll::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
  }
  
  .andamento-container {
    width: max-content;
    min-width: 100%;
  }
}

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%; /* white */
    --foreground: 0 0% 3.9%; /* gray-950 */
    --card: 0 0% 100%; /* white */
    --card-foreground: 220 14% 96%; /* slate-50 */
    --popover: 0 0% 100%; /* white */
    --popover-foreground: 0 0% 3.9%; /* gray-950 */
    --primary: 0 0% 9%; /* gray-900 */
    --primary-foreground: 0 0% 98%; /* gray-50 */
    --secondary: 0 0% 96.1%; /* gray-100 */
    --secondary-foreground: 0 0% 9%; /* gray-900 */
    --muted: 0 0% 96.1%; /* gray-100 */
    --muted-foreground: 0 0% 45.1%; /* gray-600 */
    --accent: 0 0% 96.1%; /* gray-100 */
    --accent-foreground: 0 0% 9%; /* gray-900 */
    --destructive: 0 84.2% 60.2%; /* red-500 */
    --destructive-foreground: 0 0% 98%; /* gray-50 */
    --border: 0 0% 89.8%; /* gray-200 */
    --input: 218 14% 84%; /* gray-300 */
    --ring: 0 0% 3.9%; /* gray-950 */
    --chart-1: 12 76% 61%; /* orange-400 */
    --chart-2: 173 58% 39%; /* teal-600 */
    --chart-3: 197 37% 24%; /* cyan-800 */
    --chart-4: 43 74% 66%; /* yellow-400 */
    --chart-5: 27 87% 67%; /* orange-300 */
    --radius: 0.5rem;
    --sidebar-background: 0 0% 98%; /* gray-50 */
    --sidebar-foreground: 240 5.3% 26.1%; /* gray-700 */
    --sidebar-primary: 240 5.9% 10%; /* gray-900 */
    --sidebar-primary-foreground: 0 0% 98%; /* gray-50 */
    --sidebar-accent: 240 4.8% 95.9%; /* gray-100 */
    --sidebar-accent-foreground: 240 5.9% 10%; /* gray-900 */
    --sidebar-border: 220 13% 91%; /* gray-200 */
    --sidebar-ring: 217.2 91.2% 59.8%; /* blue-500 */

    /* Cores personalizadas do app */
    --brand-primary: 217 91% 60%; /* blue-500 */
    --brand-primary-foreground: 0 0% 98%; /* gray-50 */
    --brand-secondary: 262 83% 58%; /* purple-500 */
    --brand-secondary-foreground: 0 0% 98%; /* gray-50 */
    --brand-accent: 152 81% 96%; /* green-50 */
    --brand-accent-foreground: 152 84% 20%; /* green-800 */

    /* Gradientes principais */
    --gradient-primary-start: 217 91% 60%; /* blue-500 */
    --gradient-primary-end: 262 83% 58%; /* purple-500 */
    --gradient-secondary-start: 152 69% 61%; /* green-400 */
    --gradient-secondary-end: 173 80% 40%; /* teal-600 */

    /* Estados de status */
    --status-success: 142 76% 36%; /* green-600 */
    --status-success-foreground: 0 0% 98%; /* gray-50 */
    --status-warning: 38 92% 50%; /* orange-500 */
    --status-warning-foreground: 0 0% 9%; /* gray-900 */
    --status-error: 0 84% 60%; /* red-500 */
    --status-error-foreground: 0 0% 98%; /* gray-50 */
    --status-info: 217 91% 60%; /* blue-500 */
    --status-info-foreground: 0 0% 98%; /* gray-50 */

    /* Backgrounds especiais */
    --background-gradient-light: 222 84% 95%; /* blue-50 */
    --background-gradient-medium: 262 52% 95%; /* purple-50 */
    --surface-elevated: 0 0% 99%; /* gray-50 */
    --surface-hover: 217 91% 95%; /* blue-50 */

    /* Borders e separadores */
    --border-light: 217 20% 92%; /* blue-100 */
    --border-medium: 217 20% 84%; /* blue-200 */
    --border-accent: 217 91% 85%; /* blue-200 */
  }

  .dark {
    --background: 0 0% 3.9%; /* gray-950 */
    --foreground: 0 0% 98%; /* gray-50 */
    --card: 217 19% 27%; /* slate-800 - CORRIGIDO */
    --card-foreground: 216 31% 17%; /* slate-900 */
    --popover: 0 0% 3.9%; /* gray-950 */
    --popover-foreground: 0 0% 98%; /* gray-50 */
    --primary: 0 0% 98%; /* gray-50 */
    --primary-foreground: 0 0% 9%; /* gray-900 */
    --secondary: 0 0% 14.9%; /* gray-800 */
    --secondary-foreground: 0 0% 98%; /* gray-50 */
    --muted: 0 0% 14.9%; /* gray-800 */
    --muted-foreground: 0 0% 63.9%; /* gray-400 */
    --accent: 0 0% 14.9%; /* gray-800 */
    --accent-foreground: 0 0% 98%; /* gray-50 */
    --destructive: 0 62.8% 30.6%; /* red-700 */
    --destructive-foreground: 0 0% 98%; /* gray-50 */
    --border: 0 0% 14.9%; /* gray-800 */
    --input: 217 20% 17%; /* slate-900 */
    --ring: 0 0% 83.1%; /* gray-300 */
    --chart-1: 220 70% 50%; /* blue-500 */
    --chart-2: 160 60% 45%; /* teal-600 */
    --chart-3: 30 80% 55%; /* amber-500 */
    --chart-4: 280 65% 60%; /* purple-400 */
    --chart-5: 340 75% 55%; /* rose-400 */
    --sidebar-background: 240 5.9% 10%; /* gray-900 */
    --sidebar-foreground: 240 4.8% 95.9%; /* gray-100 */
    --sidebar-primary: 224.3 76.3% 48%; /* blue-600 */
    --sidebar-primary-foreground: 0 0% 100%; /* white */
    --sidebar-accent: 240 3.7% 15.9%; /* gray-800 */
    --sidebar-accent-foreground: 240 4.8% 95.9%; /* gray-100 */
    --sidebar-border: 240 3.7% 15.9%; /* gray-800 */
    --sidebar-ring: 217.2 91.2% 59.8%; /* blue-500 */

    /* Cores personalizadas do app - modo escuro */
    --brand-primary: 217 91% 65%; /* blue-400 */
    --brand-primary-foreground: 0 0% 9%; /* gray-900 */
    --brand-secondary: 262 83% 65%; /* purple-400 */
    --brand-secondary-foreground: 0 0% 9%; /* gray-900 */
    --brand-accent: 152 50% 15%; /* green-900 */
    --brand-accent-foreground: 152 81% 80%; /* green-200 */

    /* Gradientes principais - modo escuro */
    --gradient-primary-start: 217 91% 65%; /* blue-400 */
    --gradient-primary-end: 262 83% 65%; /* purple-400 */
    --gradient-secondary-start: 152 69% 55%; /* green-500 */
    --gradient-secondary-end: 173 80% 45%; /* teal-500 */

    /* Estados de status - modo escuro */
    --status-success: 142 76% 45%; /* green-500 */
    --status-success-foreground: 0 0% 9%; /* gray-900 */
    --status-warning: 38 92% 60%; /* orange-400 */
    --status-warning-foreground: 0 0% 9%; /* gray-900 */
    --status-error: 0 84% 65%; /* red-400 */
    --status-error-foreground: 0 0% 9%; /* gray-900 */
    --status-info: 217 91% 65%; /* blue-400 */
    --status-info-foreground: 0 0% 9%; /* gray-900 */

    /* Backgrounds especiais - modo escuro */
    --background-gradient-light: 222 84% 5%; /* blue-950 */
    --background-gradient-medium: 262 52% 8%; /* purple-950 */
    --surface-elevated: 0 0% 8%; /* gray-900 */
    --surface-hover: 217 91% 15%; /* blue-900 */

    /* Borders e separadores - modo escuro */
    --border-light: 217 20% 20%; /* blue-800 */
    --border-medium: 217 20% 25%; /* blue-700 */
    --border-accent: 217 91% 25%; /* blue-700 */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ✅ CORREÇÃO: Evitar flash de cores durante hidratação do tema */
html {
  /* Cores padrão aplicadas pelo script inline */
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
}

/* Garantir transições suaves após hidratação */
html.theme-transitions {
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Evitar transições durante carregamento inicial */
html:not(.theme-loaded) * {
  transition: none !important;
}

/* Habilitar transições após carregamento */
html.theme-loaded {
  * {
    transition: revert;
  }
}

/* Esconder overlay do Next.js em desenvolvimento */
#__next-build-watcher,
[data-nextjs-dev-overlay],
[data-nextjs-dev-overlay-root],
iframe[data-nextjs-dev-overlay],
.__nextjs_original-stack-frame,
div[data-nextjs-toast],
div[data-nextjs-terminal],
div[style*='position: fixed'][style*='bottom: 0'][style*='left: 0'],
div[style*='position: fixed'][style*='z-index: 99999'] {
  display: none !important;
  visibility: hidden !important;
}

/* Esconder qualquer elemento que contenha o logo/texto do Next.js no canto inferior */
[data-nextjs] {
  display: none !important;
}

/* Alternativa mais específica para o overlay do Next.js */
body > div:last-of-type[style*='position: fixed'][style*='z-index'] {
  display: none !important;
}

/* ✅ CORREÇÃO DRÁSTICA: Forçar overflow-x-hidden em TUDO */
html, body {
  overflow-x: hidden !important;
  width: 100% !important;
  max-width: 100vw !important;
  box-sizing: border-box !important;
}

/* Forçar todos os elementos a respeitarem o viewport */
*, *::before, *::after {
  box-sizing: border-box !important;
}

/* Apenas prevenir overflow lateral, SEM forçar largura */
div:not(header *), section, main, article, aside, footer, nav {
  overflow-x: hidden !important;
}

/* Headers podem usar largura total mas controlam overflow */
header {
  width: 100% !important;
  overflow-x: hidden !important;
}

/* Gráficos e SVGs também não podem vazar */
svg, canvas {
  max-width: 100% !important;
  height: auto !important;
}

/* Recharts container específico */
.recharts-wrapper {
  max-width: 100% !important;
  overflow: hidden !important;
}

.recharts-surface {
  max-width: 100% !important;
}

/* Estilos simples para selects nativos */
select {
  cursor: pointer;
  color: #99a1af;
}

select:focus {
  outline: none;
}

select option {
  padding: 8px;
  background: white;
  color: black;
}
